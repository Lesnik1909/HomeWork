using System;

namespace HomeWork
{
    class Program
    {
        static void Main(string[] args)
        {
            bool isWork = true;
            string[] name = {"Petrov Ivan Sergeevich", "Koreshkov Alexey Sergeevich", "Grabov Petr Sergeevich", "Grabov Andrey Sergeevich"};
            string[] post = { "Slesar", "Slesar", "Slesar", "Slesar" };

            while (isWork)
            {
                Console.WriteLine("1 - Добавить досье.\n2 - Вывести досье.\n3 - Удалите досье.\n4 - Поиск по фамилии\n5 - Выход\n");
                switch (UserInput())
                {
                    case 1:
                        PostAdd(ref name, ref post);
                        break;
                    case 2:
                        PostWrite(name, post);
                        break;
                    case 3:
                        PostRem(ref name, ref post);
                        break;
                    case 4:
                        FindName(name);
                        break;
                    case 5:
                        isWork = false;
                        break;
                    default:
                        break;
                }
                Console.Clear();
            }
        }
        static void PostWrite(string[] name, string[] post)
        {
            for (int i = 0; i < name.Length; i++)
            {
                Console.Write((i + 1) + "- ");
                Console.Write(name[i]);
                Console.WriteLine(" должность - " + post[i]);
            }
            Console.ReadKey();
        }
        static void PostAdd(ref string[] name, ref string[] post)
        {
            string[] tempName = new string[name.Length + 1];
            string[] tempPost = new string[post.Length + 1];
            for (int i = 0; i < name.Length; i++)
            {
                tempName[i] = name[i];
                tempPost[i] = post[i];
            }
            Console.Write("Введите Фамилию: ");
            tempName[^1] += (Console.ReadLine() + " ");
            Console.Write("Введите Имя: ");
            tempName[^1] += (Console.ReadLine() + " ");
            Console.Write("Введите Отчество: ");
            tempName[^1] += Console.ReadLine();
            Console.Write("Введите Должность: ");
            tempPost[tempPost.Length - 1] = Console.ReadLine();
            name = tempName;
            post = tempPost;
        }
        static void PostRem(ref string[] name, ref string[] post)
        {
            Console.Write("Введите индекс удаляемого досье: ");
            int indexRem = UserInput();
            if (indexRem != 0)
            {
                if (indexRem > 0 && indexRem <= name.Length)
                {
                    indexRem--;
                    string[] tempName = new string[name.Length - 1];
                    string[] tempPost = new string[post.Length - 1];
                    for (int i = 0; i < name.GetLength(0); i++)
                    {
                        if (i < indexRem)
                        {
                            tempName[i] = name[i];
                            tempPost[i] = post[i];
                        }
                        else if (i > indexRem)
                        {
                            tempName[i - 1] = name[i];
                            tempPost[i - 1] = post[i];
                        }
                    }
                    name = tempName;
                    post = tempPost;
                }
            }
        }
        static void FindName(string[] name)
        {
            string findName;
            bool findLuck = false;
            Console.Write("Введите фамилию: ");
            findName = Console.ReadLine();
            for (int i = 0; i < name.Length; i++)
            {
                string[] wors = name[i].Split(' ');
                if (findName.ToLower() == wors[0].ToLower())
                {
                    Console.Write((i + 1) + " ");
                    Console.Write(name[i]);
                    findLuck = true;
                    Console.WriteLine();
                }
            }
            if (!findLuck)
                Console.WriteLine("Такого досье нет");
            Console.ReadKey();
        }
        static int UserInput()
        {
            int.TryParse(Console.ReadLine(), out int userNumber);
            return userNumber;
        }
    }
}
